# Backend Express Node.js vá»›i Mongoose

## ğŸ“‹ MÃ´ táº£

Dá»± Ã¡n nÃ y cung cáº¥p káº¿ hoáº¡ch chi tiáº¿t Ä‘á»ƒ xÃ¢y dá»±ng má»™t backend API máº¡nh máº½ sá»­ dá»¥ng Express.js vÃ  Mongoose cho cÆ¡ sá»Ÿ dá»¯ liá»‡u MongoDB. NÃ³ bao gá»“m cÃ¡c bÆ°á»›c tá»« thiáº¿t láº­p Ä‘áº¿n triá»ƒn khai, vá»›i cÃ¡c biá»ƒu tÆ°á»£ng Ä‘áº¹p Ä‘á»ƒ dá»… theo dÃµi.

## ğŸ”§ YÃªu cáº§u há»‡ thá»‘ng

- Node.js (phiÃªn báº£n 14 trá»Ÿ lÃªn)
- MongoDB (cÃ i Ä‘áº·t cá»¥c bá»™ hoáº·c sá»­ dá»¥ng MongoDB Atlas)
- npm hoáº·c yarn Ä‘á»ƒ quáº£n lÃ½ gÃ³i

## ğŸš€ CÃ i Ä‘áº·t

1. Táº¡o thÆ° má»¥c dá»± Ã¡n vÃ  khá»Ÿi táº¡o npm:
   ```
   mkdir backend-express-mongoose
   cd backend-express-mongoose
   npm init -y
   ```
2. CÃ i Ä‘áº·t cÃ¡c gÃ³i cáº§n thiáº¿t:
   ```
   npm install express mongoose dotenv cors helmet morgan
   npm install --save-dev nodemon
   ```

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
backend-express-mongoose/
â”œâ”€â”€ app.js              # Äiá»ƒm vÃ o chÃ­nh cá»§a á»©ng dá»¥ng
â”œâ”€â”€ config/
â”‚   â””â”€â”€ database.js     # Cáº¥u hÃ¬nh káº¿t ná»‘i MongoDB
â”œâ”€â”€ models/
â”‚   â””â”€â”€ User.js         # MÃ´ hÃ¬nh ngÆ°á»i dÃ¹ng (vÃ­ dá»¥)
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ userRoutes.js   # Äá»‹nh tuyáº¿n cho ngÆ°á»i dÃ¹ng
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ userController.js # Logic xá»­ lÃ½
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ auth.js         # Middleware xÃ¡c thá»±c (tÃ¹y chá»n)
â”œâ”€â”€ .env                # Biáº¿n mÃ´i trÆ°á»ng
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ“ Káº¿ hoáº¡ch chi tiáº¿t Ä‘á»ƒ xÃ¢y dá»±ng backend

### BÆ°á»›c 1: ğŸ”§ Thiáº¿t láº­p dá»± Ã¡n cÆ¡ báº£n

- Táº¡o file `app.js` Ä‘á»ƒ khá»Ÿi táº¡o Express server.
- Cáº¥u hÃ¬nh biáº¿n mÃ´i trÆ°á»ng vá»›i `.env` (PORT, MONGODB_URI).
- Káº¿t ná»‘i vá»›i MongoDB sá»­ dá»¥ng Mongoose.

### BÆ°á»›c 2: ğŸ—„ï¸ Táº¡o MÃ´ hÃ¬nh dá»¯ liá»‡u (Models)

- Sá»­ dá»¥ng Mongoose Ä‘á»ƒ Ä‘á»‹nh nghÄ©a schema cho cÃ¡c collection nhÆ° User, Post, etc.
- VÃ­ dá»¥: Schema cho User vá»›i cÃ¡c trÆ°á»ng name, email, password.

### BÆ°á»›c 3: ğŸ›£ï¸ Thiáº¿t láº­p Routes vÃ  Controllers

- Táº¡o routes cho CRUD operations (GET, POST, PUT, DELETE).
- Viáº¿t controllers Ä‘á»ƒ xá»­ lÃ½ logic nghiá»‡p vá»¥.
- Káº¿t ná»‘i routes vá»›i app.js.

### BÆ°á»›c 4: ğŸ”’ ThÃªm Middleware vÃ  Báº£o máº­t

- Sá»­ dá»¥ng middleware nhÆ° cors, helmet Ä‘á»ƒ báº£o máº­t.
- ThÃªm xÃ¡c thá»±c (JWT) náº¿u cáº§n.
- Validate input vá»›i express-validator.

### BÆ°á»›c 5: ğŸ§ª Testing vÃ  Debugging

- Sá»­ dá»¥ng Postman Ä‘á»ƒ test API endpoints.
- ThÃªm logging vá»›i morgan.
- Xá»­ lÃ½ lá»—i vá»›i try-catch hoáº·c middleware error handling.

### BÆ°á»›c 6: ğŸš€ Triá»ƒn khai

- Sá»­ dá»¥ng nodemon cho development.
- Deploy lÃªn Heroku, AWS, hoáº·c Vercel.
- Cáº¥u hÃ¬nh production environment.

## ğŸ’» Sá»­ dá»¥ng

1. Khá»Ÿi Ä‘á»™ng server:
   ```
   npm run dev
   ```
2. Truy cáº­p API táº¡i `http://localhost:3000`.

## ğŸ¤ ÄÃ³ng gÃ³p

HÃ£y fork dá»± Ã¡n vÃ  gá»­i pull request náº¿u báº¡n cÃ³ cáº£i tiáº¿n!

## ğŸ“„ Giáº¥y phÃ©p

Dá»± Ã¡n nÃ y sá»­ dá»¥ng giáº¥y phÃ©p MIT.
